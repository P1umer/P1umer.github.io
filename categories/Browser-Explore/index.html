<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
<title>Category: Browser Explore - P1umerのblog</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



    <meta name="description" content="noman">
<meta property="og:type" content="website">
<meta property="og:title" content="P1umerのblog">
<meta property="og:url" content="http://p1umer.gituhb.io/categories/Browser-Explore/index.html">
<meta property="og:site_name" content="P1umerのblog">
<meta property="og:description" content="noman">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://p1umer.gituhb.io/images/og_image.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="P1umerのblog">
<meta name="twitter:description" content="noman">
<meta name="twitter:image" content="http://p1umer.gituhb.io/images/og_image.png">







<link rel="icon" href="/images/111.png">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    

    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/111.png" alt="P1umerのblog" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/">Home</a>
                
                <a class="navbar-item" href="/archives">Archives</a>
                
                <a class="navbar-item" href="/categories">Categories</a>
                
                <a class="navbar-item" href="/tags">Tags</a>
                
                <a class="navbar-item" href="/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="github" href="https://github.com/p1umer">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main"><div class="card">
    <div class="card-content">
        <nav class="breadcrumb" aria-label="breadcrumbs">
        <ul>
            <li><a href="/categories">Categories</a></li>
            
            <li class="is-active"><a href="#" aria-current="page">Browser Explore</a></li>
        </ul>
        </nav>
    </div>
</div>

    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-08-05T05:54:44.000Z">2019-08-05</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Browser-Explore/">Browser Explore</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Browser-Explore/Exploit/">Exploit</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    19 minutes read (About 2909 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/08/05/How2Exploit-The-V8-Typer-Bug/">How2Exploit The V8 Typer Bug</a>
            
        </h1>
        <div class="content">
            <h2><span id="intro-the-way-to-exploit-the-v8-typer-bug">Intro: The way to exploit the V8 typer bug</span></h2><h2><span id="patch">Patch</span></h2><p>在之前的 <code>V8 exploit</code> 过程中，利用<code>typer</code>漏洞的案例有很多，而且几乎都用到了<code>Simplified lowering</code>来做边界消除:<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">void VisitCheckBounds(Node* node, SimplifiedLowering* lowering) &#123;</span><br><span class="line">    ···</span><br><span class="line">        if (lower()) &#123;</span><br><span class="line">          if (lowering-&gt;poisoning_level_ ==</span><br><span class="line">                  PoisoningMitigationLevel::kDontPoison &amp;&amp;</span><br><span class="line">              (index_type.IsNone() || length_type.IsNone() ||</span><br><span class="line">               (index_type.Min() &gt;= 0.0 &amp;&amp;</span><br><span class="line">                index_type.Max() &lt; length_type.Min()))) &#123;</span><br><span class="line">            // The bounds check is redundant if we already know that</span><br><span class="line">            // the index is within the bounds of [0.0, length[.</span><br><span class="line">            DeferReplacement(node, node-&gt;InputAt(0));</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">            NodeProperties::ChangeOp(</span><br><span class="line">                node, simplified()-&gt;CheckedUint32Bounds(p.feedback()));</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ···</span><br></pre></td></tr></table></figure></p>
<p>然而，在 <code>commit 7bb6dc0e06fa158df508bc8997f0fce4e33512a5</code> 中加入了如下 <code>patch</code>（节选部分）:</p>
<p>【+】首先在 <code>Simplified lowering</code> ：<img src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/20190731150223.png" alt></p>
<p>可见，改变了原先<strong>直接消除节点</strong>的方式，转而将所有 <code>CheckBound</code> 节点全部 <code>lower</code> 成 <code>CheckedUint32Bounds</code>，根据不同的条件给 <code>CheckedUint32Bounds</code> 节点赋予不同的 <code>mode</code>。</p>
<p>【+】其次是 <code>Effect ControlLinearizer</code>：<br><img src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/20190731150116.png" alt></p>
<p>虽然根据不同的 <code>mode</code> 采取不同的 <code>lowing</code>，但是均会 <code>lowing</code> 到 <code>Uint32LessThan</code>。不同的是 <code>kDeoptOnOutOfBounds</code> 会判断是否溢出从而判断是否 <code>deopt</code>; <code>kAbortOnOutOfBounds mode</code> 则是对于 <code>if_abort</code> (溢出)状态直接给予 <code>Unreachable</code> 作为后继，<code>Unreachable</code> 节点后续会在 <code>InstructionSelector</code> 被 <code>breakpoint</code> 取代：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">void InstructionSelector::VisitUnreachable(Node* node) &#123;</span><br><span class="line">  OperandGenerator g(this);</span><br><span class="line">  Emit(kArchDebugBreak, g.NoOutput());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>但这里值得注意的是，<code>Uint32LessThan</code> 会在 <code>TFLateOptimization</code> 中被 <code>lower</code> 成 <code>Int32Constant</code> 。由于 <code>Turbofan</code> 在 <code>LateOptimization</code> 中加入了如下众多的 <code>reducer</code>：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">AddReducer(data, &amp;graph_reducer, &amp;branch_condition_elimination);</span><br><span class="line">AddReducer(data, &amp;graph_reducer, &amp;dead_code_elimination);</span><br><span class="line">AddReducer(data, &amp;graph_reducer, &amp;machine_reducer);</span><br><span class="line">AddReducer(data, &amp;graph_reducer, &amp;common_reducer);</span><br><span class="line">AddReducer(data, &amp;graph_reducer, &amp;select_lowering);</span><br><span class="line">AddReducer(data, &amp;graph_reducer, &amp;value_numbering);</span><br></pre></td></tr></table></figure></p>
<p>其中包含 <code>dead_code_elimination</code> 以及 <code>machine_reducer</code>。在这些 <code>reducer</code> 运作的过程中， <code>Uint32LessThan</code> 会被 <code>MachineOperatorReducer(machine_reducer)</code> 替换为 <code>Int32Constant</code> :<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">//machine-operator-reducer.cc:283</span><br><span class="line"></span><br><span class="line">    case IrOpcode::kUint32LessThan: &#123;</span><br><span class="line">      Uint32BinopMatcher m(node);</span><br><span class="line">      if (m.left().Is(kMaxUInt32)) return ReplaceBool(false);  // M &lt; x =&gt; false</span><br><span class="line">      if (m.right().Is(0)) return ReplaceBool(false);          // x &lt; 0 =&gt; false</span><br><span class="line">      if (m.IsFoldable()) &#123;                                    // K &lt; K =&gt; K</span><br><span class="line">        return ReplaceBool(m.left().Value() &lt; m.right().Value());</span><br><span class="line">      &#125;</span><br><span class="line">      if (m.LeftEqualsRight()) return ReplaceBool(false);  // x &lt; x =&gt; false</span><br><span class="line">      if (m.left().IsWord32Sar() &amp;&amp; m.right().HasValue()) &#123;</span><br><span class="line">        Int32BinopMatcher mleft(m.left().node());</span><br><span class="line">        if (mleft.right().HasValue()) &#123;</span><br><span class="line">          // (x &gt;&gt; K) &lt; C =&gt; x &lt; (C &lt;&lt; K)</span><br><span class="line">          // when C &lt; (M &gt;&gt; K)</span><br><span class="line">          const uint32_t c = m.right().Value();</span><br><span class="line">          const uint32_t k = mleft.right().Value() &amp; 0x1F;</span><br><span class="line">          if (c &lt; static_cast&lt;uint32_t&gt;(kMaxInt &gt;&gt; k)) &#123;</span><br><span class="line">            node-&gt;ReplaceInput(0, mleft.left().node());</span><br><span class="line">            node-&gt;ReplaceInput(1, Uint32Constant(c &lt;&lt; k));</span><br><span class="line">            return Changed(node);</span><br><span class="line">          &#125;</span><br><span class="line">          // TODO(turbofan): else the comparison is always true.</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure></p>
<p>如果满足 <code>m.IsFoldable()</code> 即 <code>left().HasValue() &amp;&amp; right().HasValue()</code>，则经过<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (m.IsFoldable()) &#123;                                    // K &lt; K =&gt; K</span><br><span class="line">        return ReplaceBool(m.left().Value() &lt; m.right().Value());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><code>Uint32LessThan</code> 最终被替换为 <code>Int32Constant[0/1]</code>。</p>
<p>同时，如果 <code>Uint32LessThan</code> 后边紧跟 <code>Branch</code> 节点，则该 <code>Branch node</code> 以及后续一定不会触发的分支会被 <code>CommonOperatorReducer</code> 优化为 <code>Dead</code>；一定会触发的分支则会被合并到上一级 <code>control</code>:<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Decision const decision = DecideCondition(js_heap_broker(), cond);</span><br><span class="line">if (decision == Decision::kUnknown) return NoChange();</span><br><span class="line">Node* const control = node-&gt;InputAt(1);</span><br><span class="line">for (Node* const use : node-&gt;uses()) &#123;</span><br><span class="line">  switch (use-&gt;opcode()) &#123;</span><br><span class="line">    case IrOpcode::kIfTrue:</span><br><span class="line">      Replace(use, (decision == Decision::kTrue) ? control : dead());</span><br><span class="line">      break;</span><br><span class="line">    case IrOpcode::kIfFalse:</span><br><span class="line">      Replace(use, (decision == Decision::kFalse) ? control : dead());</span><br><span class="line">      break;</span><br><span class="line">    default:</span><br><span class="line">      UNREACHABLE();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">return Replace(dead());</span><br></pre></td></tr></table></figure></p>
<p>于是接着在 <code>DeadCodeElimination</code> 中 <code>Unreachable</code> 节点将会被替换为 <code>Dead</code>:<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Reduction DeadCodeElimination::ReduceUnreachableOrIfException(Node* node) &#123;</span><br><span class="line">  DCHECK(node-&gt;opcode() == IrOpcode::kUnreachable ||</span><br><span class="line">         node-&gt;opcode() == IrOpcode::kIfException);</span><br><span class="line">  Reduction reduction = PropagateDeadControl(node);</span><br><span class="line">  if (reduction.Changed()) return reduction;</span><br><span class="line">  Node* effect = NodeProperties::GetEffectInput(node, 0);</span><br><span class="line">  if (effect-&gt;opcode() == IrOpcode::kDead) &#123;</span><br><span class="line">    return Replace(effect);</span><br><span class="line">  &#125;</span><br><span class="line">  if (effect-&gt;opcode() == IrOpcode::kUnreachable) &#123;</span><br><span class="line">    return Replace(effect);</span><br><span class="line">  &#125;</span><br><span class="line">  return NoChange();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>自然也就避免了变为<code>breakpoint</code>；同时将 <code>Branch</code> 原先选择分支的行为优化为单一控制流。</p>
<p><strong>等等，发生了什么？</strong></p>
<p>我们中通过上述的分析最终消除了 <code>Branch</code> 的另一分支，这不是恰好和 <code>Simplified lowering</code> 的<strong>最终效果类似</strong>吗？</p>
<p>仔细思考一下，也就是说，如果我们想通过 <code>Typer</code> 的漏洞来实现 <code>exploit</code>，需要将编译器行为固定为：</p>
<ul>
<li><code>Simplified lowering</code>：<code>CheckBound</code> 节点转化为 <code>CheckedUint32Bounds</code></li>
<li><code>Simplified lowering</code>：<code>CheckedUint32Bounds mode</code> 为 <code>kAbortOnOutOfBounds</code></li>
<li><code>Effect ControlLinearizer</code>：<code>CheckedUint32Bounds</code> <code>lowing</code> 成 <code>Uint32LessThan</code>; <code>Uint32LessThan</code> 包含 <code>Unreachable</code> 作为 <code>if_abort</code> 状态的后继。</li>
<li><code>LateOptimization</code>：<code>Uint32LessThan</code> 转化为 <code>Int32Constant[1]</code>, 使得后续的 <code>DeadCodeElimination reducer</code> 将 <code>Branch</code> 节点优化为  <code>Dead</code> 的同时<strong>削减一条分支</strong>，在这里我们要控制削减的那条为 <code>Unreachable</code> 分支。</li>
</ul>
<h2><span id="deeemo">Deeemo</span></h2><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var opt_me = () =&gt; &#123;</span><br><span class="line">  let arr = [1,2,3,4];</span><br><span class="line">  index = 4;</span><br><span class="line">  return arr[index];</span><br><span class="line">&#125;;</span><br><span class="line">for (var i = 0; i &lt; 0x10000; ++i)</span><br><span class="line">  opt_me();</span><br></pre></td></tr></table></figure>
<ol>
<li><strong>Typer</strong><img src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/20190801160157.png" alt></li>
<li><strong>SimplifiedLowing</strong><img src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/20190801160333.png" alt> <code>CheckBound</code> 节点转化为 <code>CheckUint32Bounds</code></li>
<li><strong>EffectLinearization</strong><img src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/20190802181208.png" alt> <code>CheckUint32Bounds</code> 转化为 <code>Uint32LessThan</code>，同时可以看到 <code>Branch</code> 节点的一个分支为 <code>Unreachable</code>。<br>4.<strong>LateOptimize</strong> <img src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/20190802180127.png" alt>可以看到 <code>89</code> 节点在 <code>EffectLinearization phase</code> 中的后继只留下了 <code>IfTrue</code> 之后的 <code>53:Return</code>，<code>IfFalse</code> 分支被全部剪掉了。</li>
</ol>
<p>四个过程的行为和第一部分的介绍非常一致。但是奇怪的是，<code>47</code> 节点 <code>LoadElement</code>消失了，虽然该 <code>node</code> 的消失并非我们探寻 <code>typer bug</code> 利用的过程中的重点，但是有助于我们理解为何针对 <code>Simplified lowering</code> 的 <code>patch</code> 会增强安全性。</p>
<h2><span id="消失的-loadelement-节点">消失的 LoadElement 节点</span></h2><p>观察 <code>Turbolizer</code>:</p>
<p><code>LoopPeeling</code> 之后：<img src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/20190801170233.png" alt></p>
<p><code>LoadElimination</code> 之后：<img src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/20190801170051.png" alt></p>
<p>可见，<code>47:LoadElement</code> 节点在 <code>LoadElimination</code> 中被优化掉。而该节点正是加载元素值的节点。注意到，原 <code>POC</code> 中针对 <code>arr</code>的访问其实是越界的，因此该 load 节点的消失从逻辑上无可非议。然而分析并不能到此为止，我们需要知道 <code>V8</code> 以什么方法去除该节点以及绕过技巧。</p>
<h3><span id="v8-如何处理">V8 如何处理</span></h3><p>首先关注 <code>LoadEliminate</code> 的控制流变化:</p>
<p><img src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/20190805103035.png" alt></p>
<p>可以看到，经过了 <code>LoadEliminate</code> 之后的控制流恰好剪掉了 <code>True</code> 分支，而 <code>True</code> 分支的 <code>return</code> 节点是 <code>loadelement</code>的 <code>use</code>节点。由于该分支被剪掉，直接导致了后续的控制流将没有任何机会接触到 <code>load</code> 节点。影响之一就是在 <code>EffectLinearization</code> 中，<code>Contro flow</code> 是如下形式：<br><img src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/20190805104119.png" alt><br>因此错过了 <code>load value</code> 的机会。</p>
<p>控制流分析完毕，下面我打算关注具体的代码实现:<br>首先通过观察 <code>--trace-turbo-reduction</code>:<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">- In-place update of 43: CheckBounds[VectorSlotPair(INVALID)](16, 42, 17, 12) by reducer RedundancyElimination</span><br><span class="line">- In-place update of 43: CheckBounds[VectorSlotPair(INVALID)](16, 42, 17, 12) by reducer LoadElimination</span><br><span class="line">- In-place update of 44: NumberLessThan(43, 16) by reducer TypeNarrowingReducer</span><br><span class="line">- Replacement of 44: NumberLessThan(43, 16) with 55: HeapConstant[0x2d168800046d &lt;false&gt;] by reducer ConstantFoldingReducer</span><br><span class="line">- In-place update of 45: Branch[True|CriticalSafetyCheck](55, 12) by reducer BranchElimination</span><br><span class="line">- Replacement of 45: Branch[True|CriticalSafetyCheck](55, 12) with 70: Dead by reducer CommonOperatorReducer</span><br><span class="line">- Replacement of 47: LoadElement[tagged base, 8, Signed31, kRepCompressedSigned|kTypeInt32, FullWriteBarrier](59, 43, 43, 70) with 70: Dead by reducer DeadCodeElimination</span><br><span class="line">- Replacement of 52: Return(30, 70, 70, 70) with 70: Dead by reducer DeadCodeElimination</span><br></pre></td></tr></table></figure></p>
<p>发现:</p>
<ul>
<li><code>44: NumberLessThan(43, 16)</code> 节点的的输入更新为 <strong>43</strong> 和 <strong>16</strong> 其中，<strong>16</strong>节点为 <code>NumberConstant[4]</code></li>
<li><code>44: NumberLessThan(43, 16)</code> 节点被 <code>ConstantFoldingReducer</code> 优化为 <code>false</code></li>
<li><code>45: Branch(55, 12)</code> 节点被 CommonOperatorReducer优化为dead，</li>
<li><code>47: LoadElement</code> 节点以及 <code>52: Return</code> 节点被 <code>DeadCodeElimination</code> 优化为 <code>dead</code>。至此完成了 <code>True</code> 分支的消除</li>
</ul>
<p>可知，关键在于 <code>44</code> 节点的false替换，直接导致了后面的剪枝。</p>
<p>鉴于以上的初步分析，下面具体看一下源码</p>
<h4><span id="源码分析">源码分析</span></h4><p>首先是导致44变为false的ConstantFoldingReducer<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">Reduction ConstantFoldingReducer::Reduce(Node* node) &#123;</span><br><span class="line">  DisallowHeapAccess no_heap_access;</span><br><span class="line">  // Check if the output type is a singleton.  In that case we already know the</span><br><span class="line">  // result value and can simply replace the node if it&apos;s eliminable.</span><br><span class="line">  if (!NodeProperties::IsConstant(node) &amp;&amp; NodeProperties::IsTyped(node) &amp;&amp;</span><br><span class="line">      node-&gt;op()-&gt;HasProperty(Operator::kEliminatable)) &#123;</span><br><span class="line">    // TODO(v8:5303): We must not eliminate FinishRegion here. This special</span><br><span class="line">    // case can be removed once we have separate operators for value and</span><br><span class="line">    // effect regions.</span><br><span class="line">    if (node-&gt;opcode() == IrOpcode::kFinishRegion) return NoChange();</span><br><span class="line">    // We can only constant-fold nodes here, that are known to not cause any</span><br><span class="line">    // side-effect, may it be a JavaScript observable side-effect or a possible</span><br><span class="line">    // eager deoptimization exit (i.e. &#123;node&#125; has an operator that doesn&apos;t have</span><br><span class="line">    // the Operator::kNoDeopt property).</span><br><span class="line">    Type upper = NodeProperties::GetType(node);</span><br><span class="line">    if (!upper.IsNone()) &#123;</span><br><span class="line">      Node* replacement = nullptr;</span><br><span class="line">      if (upper.IsHeapConstant()) &#123;</span><br><span class="line">        replacement = jsgraph()-&gt;Constant(upper.AsHeapConstant()-&gt;Ref());</span><br><span class="line">      &#125; else if (upper.Is(Type::MinusZero())) &#123;</span><br><span class="line">        Factory* factory = jsgraph()-&gt;isolate()-&gt;factory();</span><br><span class="line">        ObjectRef minus_zero(broker(), factory-&gt;minus_zero_value());</span><br><span class="line">        replacement = jsgraph()-&gt;Constant(minus_zero);</span><br><span class="line">      &#125; else if (upper.Is(Type::NaN())) &#123;</span><br><span class="line">        replacement = jsgraph()-&gt;NaNConstant();</span><br><span class="line">      &#125; else if (upper.Is(Type::Null())) &#123;</span><br><span class="line">        replacement = jsgraph()-&gt;NullConstant();</span><br><span class="line">      &#125; else if (upper.Is(Type::PlainNumber()) &amp;&amp; upper.Min() == upper.Max()) &#123;</span><br><span class="line">        replacement = jsgraph()-&gt;Constant(upper.Min());</span><br><span class="line">      &#125; else if (upper.Is(Type::Undefined())) &#123;</span><br><span class="line">        replacement = jsgraph()-&gt;UndefinedConstant();</span><br><span class="line">      &#125;</span><br><span class="line">      if (replacement) &#123;</span><br><span class="line">        // Make sure the node has a type.</span><br><span class="line">        if (!NodeProperties::IsTyped(replacement)) &#123;</span><br><span class="line">          NodeProperties::SetType(replacement, upper);</span><br><span class="line">        &#125;</span><br><span class="line">        ReplaceWithValue(node, replacement);</span><br><span class="line">        return Changed(replacement);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return NoChange();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>看到，只根据 <code>node</code> 的 <code>type</code> 进行替换。因此推断，前面的 <code>typer</code> 更新了 <code>NumberLessThan(43, 16)</code> 节点的 <code>type</code>，回溯上文，注意到一个敏感 <code>In-place update</code>:<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- In-place update of 44: NumberLessThan(43, 16) by reducer TypeNarrowingReducer</span><br></pre></td></tr></table></figure></p>
<p>OK，研究一下 <code>TypeNarrowingReducer</code><br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">Reduction TypeNarrowingReducer::Reduce(Node* node) &#123;</span><br><span class="line">  DisallowHeapAccess no_heap_access;</span><br><span class="line"></span><br><span class="line">  Type new_type = Type::Any();</span><br><span class="line"></span><br><span class="line">  switch (node-&gt;opcode()) &#123;</span><br><span class="line">    case IrOpcode::kNumberLessThan: &#123;</span><br><span class="line">      // TODO(turbofan) Reuse the logic from typer.cc (by integrating relational</span><br><span class="line">      // comparisons with the operation typer).</span><br><span class="line">      Type left_type = NodeProperties::GetType(node-&gt;InputAt(0));</span><br><span class="line">      Type right_type = NodeProperties::GetType(node-&gt;InputAt(1));</span><br><span class="line">      if (left_type.Is(Type::PlainNumber()) &amp;&amp;</span><br><span class="line">          right_type.Is(Type::PlainNumber())) &#123;</span><br><span class="line">        if (left_type.Max() &lt; right_type.Min()) &#123;</span><br><span class="line">          new_type = op_typer_.singleton_true();</span><br><span class="line">        &#125; else if (left_type.Min() &gt;= right_type.Max()) &#123;</span><br><span class="line">          new_type = op_typer_.singleton_false();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      break;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">...</span><br><span class="line">  Type original_type = NodeProperties::GetType(node);</span><br><span class="line">  Type restricted = Type::Intersect(new_type, original_type, zone());</span><br><span class="line">  if (!original_type.Is(restricted)) &#123;</span><br><span class="line">    NodeProperties::SetType(node, restricted);</span><br><span class="line">    return Changed(node);</span><br><span class="line">  &#125;  </span><br><span class="line">  </span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>很明显，<code>TypeNarrowingReducer</code> 针对 <code>NumberLessThan</code> 有 <code>Type</code> 的更新，对于 <code>left_type.Min() &gt;= right_type.Max()</code> 的情况，新的 <code>singleton_false_</code> 会取代原本的 <code>Type</code>，进而被 <code>ConstantFoldingReducer</code> 优化为 <code>false</code> 节点，因此之后造成了剪枝。</p>
<h3><span id="如何绕过">如何绕过</span></h3><p>根据上文的分析，绕过剪枝的关键在于避免 <code>NumberLessThan</code> 节点在 <code>TypeNarrowingReducer</code> 处的优化，因此绕过的关键在于绕过</p>
<ul>
<li><code>left_type.Min() &gt;= right_type.Max()</code></li>
</ul>
<h4><span id="bypass1">Bypass(1)</span></h4><p>在 <code>LoadElimination phase</code> 中的 <code>TypeNarrowingReducer</code> 尚未作用时，<code>44: NumberLessThan(43, 16)</code> 节点的输入分别为 <code>43: CheckBounds</code> 和 <code>16: NumberConstant[4]</code>。如需绕过条件 <code>left_type.Min() &gt;= right_type.Max()</code> 则需要保证<br>左节点 <code>43: CheckBounds</code> 的 <code>range</code> 最小值小于 <strong>4</strong>。</p>
<p>追踪 <code>IR</code> 图，可以发现 <code>43: CheckBounds</code> 节点的 <code>Range</code> 在 <code>Typer Phase</code> 中就已经确定:<br><img src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/20190805124429.png" alt><br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Type Typer::Visitor::TypeCheckBounds(Node* node) &#123;</span><br><span class="line">  Type index = Operand(node, 0);</span><br><span class="line">  Type length = Operand(node, 1);</span><br><span class="line">  DCHECK(length.Is(Type::Unsigned31()));</span><br><span class="line">  if (index.Maybe(Type::MinusZero())) &#123;</span><br><span class="line">    index = Type::Union(index, typer_-&gt;cache_.kSingletonZero, zone());</span><br><span class="line">  &#125;</span><br><span class="line">  index = Type::Intersect(index, Type::Integral32(), zone());</span><br><span class="line">  if (index.IsNone() || length.IsNone()) return Type::None();</span><br><span class="line">  double min = std::max(index.Min(), 0.0);</span><br><span class="line">  double max = std::min(index.Max(), length.Max() - 1);</span><br><span class="line">  if (max &lt; min) return Type::None();</span><br><span class="line">  return Type::Range(min, max, zone());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><code>index</code> 为一个单一常数，因此经过 <code>Typer</code>，<code>CheckBounds</code> 的 <code>range</code> 变成了 <code>Range(4,4)</code>。但我们想让左值小于 <strong>4</strong>。因此考虑构造一个如下的 <code>POC</code>（参考<a href="https://zhuanlan.zhihu.com/p/73081003" target="_blank" rel="noopener">长亭实验室文章</a>）<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var opt_me = () =&gt; &#123;</span><br><span class="line">  let arr = [1,2,3,4];</span><br><span class="line">  let index = 4;</span><br><span class="line">  index = index &amp; 0xfff</span><br><span class="line">  return arr[index];</span><br><span class="line">&#125;;</span><br><span class="line">for (var i = 0; i &lt; 0x10000; ++i)</span><br><span class="line">  opt_me();</span><br></pre></td></tr></table></figure></p>
<p><img src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/20190805130456.png" alt></p>
<p>可见，新增了 <code>SpeculativeNumberBitwiseAnd</code> 节点。该节点的 <code>Typer</code> 如下:<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Type OperationTyper::NumberBitwiseAnd(Type lhs, Type rhs) &#123;</span><br><span class="line">  DCHECK(lhs.Is(Type::Number()));</span><br><span class="line">  DCHECK(rhs.Is(Type::Number()));</span><br><span class="line"></span><br><span class="line">  lhs = NumberToInt32(lhs);</span><br><span class="line">  rhs = NumberToInt32(rhs);</span><br><span class="line"></span><br><span class="line">  if (lhs.IsNone() || rhs.IsNone()) return Type::None();</span><br><span class="line"></span><br><span class="line">  double lmin = lhs.Min();</span><br><span class="line">  double rmin = rhs.Min();</span><br><span class="line">  double lmax = lhs.Max();</span><br><span class="line">  double rmax = rhs.Max();</span><br><span class="line">  double min = kMinInt;</span><br><span class="line">  // And-ing any two values results in a value no larger than their maximum.</span><br><span class="line">  // Even no larger than their minimum if both values are non-negative.</span><br><span class="line">  double max =</span><br><span class="line">      lmin &gt;= 0 &amp;&amp; rmin &gt;= 0 ? std::min(lmax, rmax) : std::max(lmax, rmax);</span><br><span class="line">  // And-ing with a non-negative value x causes the result to be between</span><br><span class="line">  // zero and x.</span><br><span class="line">  if (lmin &gt;= 0) &#123;</span><br><span class="line">    min = 0;</span><br><span class="line">    max = std::min(max, lmax);</span><br><span class="line">  &#125;</span><br><span class="line">  if (rmin &gt;= 0) &#123;</span><br><span class="line">    min = 0;</span><br><span class="line">    max = std::min(max, rmax);</span><br><span class="line">  &#125;</span><br><span class="line">  return Type::Range(min, max, zone());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>因此经过该 <code>Typer</code>， <code>SpeculativeNumberBitwiseAnd</code> 节点的 <code>Range</code> 最终被确定为 <code>Range(0,4)</code>，顺利地传递到 <code>CheckBound</code> 节点，完成绕过。</p>
<h4><span id="bypass2">Bypass(2)</span></h4><p>第二种方法在于利用 <code>escape analysis</code>。</p>
<p><strong>POC:</strong><br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var opt_me = () =&gt; &#123;</span><br><span class="line">  let arr = [1,2,3,4];</span><br><span class="line">  let index = &#123;o:4&#125;</span><br><span class="line">  return arr[index.o];</span><br><span class="line">&#125;;</span><br><span class="line">for (var i = 0; i &lt; 0x10000; ++i)</span><br><span class="line">  opt_me();</span><br></pre></td></tr></table></figure></p>
<p><img src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/20190805132459.png" alt><br>由于逃逸分析位于 <code>Typer</code> 之后（准确的说在 <code>LoadElimination</code> 之后，<code>SimplifiedLowing</code> 之前），因此 <code>Typer</code> 无法识别<br><code>index.o</code> 的值，只能当作 <code>LoadField</code> 节点访问<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Type Typer::Visitor::TypeLoadField(Node* node) &#123;</span><br><span class="line">  return FieldAccessOf(node-&gt;op()).type;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><code>Type</code> 结果为 <code>Signed31</code>，因此将 <code>CheckBound</code> 节点的 <code>Type</code> 优化为 <code>Range(0,1073741822)</code>，成功绕过。并且不会影响到 <code>SimplifiedLowing</code> 对于 <code>mode</code> 的判断。</p>
<h2><span id="more">More</span></h2><p>至此大概可以体会到，在新版的 V8 中利用 <code>Typer bug</code> 的难度增加了不少——关键在于将原本位置靠前的<strong>边界消除</strong>放置在了后面的 <code>phase</code>，所以需要保证在中间的 <code>phase</code> 的运行过程中，漏洞的利用条件不被破坏。因此从安全性的角度来看，这一 <code>Patch</code> 是很有效的。</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/2019/07/04/V8-Optimize-Reduce-Node-Inline/" class="image is-7by1">
            <img class="thumbnail" src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/SalcombeDevon_ZH-CN5806331292_1920x1080.jpg" alt="V8 Optimize: Reduce Node &amp;&amp; Inline">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-07-04T12:47:23.000Z">2019-07-04</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Browser-Explore/">Browser Explore</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Browser-Explore/optimize/">optimize</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    28 minutes read (About 4160 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/07/04/V8-Optimize-Reduce-Node-Inline/">V8 Optimize: Reduce Node &amp;&amp; Inline</a>
            
        </h1>
        <div class="content">
            <h2 id="Intro-Analsis-of-Turbofan-ReduceNode-amp-amp-Inline"><a href="#Intro-Analsis-of-Turbofan-ReduceNode-amp-amp-Inline" class="headerlink" title="Intro: Analsis of Turbofan ReduceNode &amp;&amp; Inline"></a>Intro: Analsis of Turbofan ReduceNode &amp;&amp; Inline</h2>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2019/07/04/V8-Optimize-Reduce-Node-Inline/#more">Read More</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/2019/07/03/V8-Optimize-FrameState/" class="image is-7by1">
            <img class="thumbnail" src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/HKreuni_ZH-CN5683726370_1920x1080.jpg" alt="V8 Optimize: FrameState">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-07-02T19:48:19.000Z">2019-07-03</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Browser-Explore/">Browser Explore</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Browser-Explore/optimize/">optimize</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    10 minutes read (About 1502 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/07/03/V8-Optimize-FrameState/">V8 Optimize: FrameState</a>
            
        </h1>
        <div class="content">
            <h2 id="Intro-Analsis-of-Framestates-IR"><a href="#Intro-Analsis-of-Framestates-IR" class="headerlink" title="Intro: Analsis of Framestates IR"></a>Intro: Analsis of Framestates IR</h2>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2019/07/03/V8-Optimize-FrameState/#more">Read More</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/2019/05/06/Star-CTF-OOB-writeup/" class="image is-7by1">
            <img class="thumbnail" src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/TreeFrog_ZH-CN9016355758_1920x1080.jpg" alt="StarCTF OOB writeup">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-05-06T14:04:29.000Z">2019-05-06</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Browser-Explore/">Browser Explore</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Browser-Explore/Exploit/">Exploit</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    13 minutes read (About 1982 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/05/06/Star-CTF-OOB-writeup/">StarCTF OOB writeup</a>
            
        </h1>
        <div class="content">
            <h2 id="Intro-一道-StarCTF-上的-V8-引擎-Writeup"><a href="#Intro-一道-StarCTF-上的-V8-引擎-Writeup" class="headerlink" title="Intro: 一道 StarCTF 上的 V8 引擎 Writeup"></a>Intro: 一道 StarCTF 上的 V8 引擎 Writeup</h2>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2019/05/06/Star-CTF-OOB-writeup/#more">Read More</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/2018/09/03/IR's-Journey/" class="image is-7by1">
            <img class="thumbnail" src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/AlaskaEagle_ZH-CN9957205086_1920x1080.jpg" alt="IR&#39;s Journey">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-09-03T15:43:55.000Z">2018-09-03</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Browser-Explore/">Browser Explore</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Browser-Explore/Basic/">Basic</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    an hour read (About 11859 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/09/03/IR's-Journey/">IR&#39;s Journey</a>
            
        </h1>
        <div class="content">
            <h2 id="Intro-From-Quads-to-Graphs"><a href="#Intro-From-Quads-to-Graphs" class="headerlink" title="Intro: From Quads to Graphs"></a>Intro: From Quads to Graphs</h2>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2018/09/03/IR's-Journey/#more">Read More</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/2018/07/10/V8-Iginition-Interpreter/" class="image is-7by1">
            <img class="thumbnail" src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/Montreux_ZH-CN5485205583_1920x1080.jpg" alt="V8 Iginition Interpreter">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-07-10T06:45:19.000Z">2018-07-10</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Browser-Explore/">Browser Explore</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Browser-Explore/Basic/">Basic</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    11 minutes read (About 1575 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/07/10/V8-Iginition-Interpreter/">V8 Iginition Interpreter</a>
            
        </h1>
        <div class="content">
            <h2 id="Intro-Analysis-of-Ignition"><a href="#Intro-Analysis-of-Ignition" class="headerlink" title="Intro: Analysis of Ignition"></a>Intro: Analysis of Ignition</h2>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2018/07/10/V8-Iginition-Interpreter/#more">Read More</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/2018/07/01/V8-Environmental-Configuration/" class="image is-7by1">
            <img class="thumbnail" src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/20190705003853.png" alt="V8 &amp; Chrome Setup">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-07-01T09:35:44.000Z">2018-07-01</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Browser-Explore/">Browser Explore</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Browser-Explore/Basic/">Basic</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 minutes read (About 338 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/07/01/V8-Environmental-Configuration/">V8 &amp; Chrome Setup</a>
            
        </h1>
        <div class="content">
            <h2 id="Intro-Setup-of-V8-amp-Chrome"><a href="#Intro-Setup-of-V8-amp-Chrome" class="headerlink" title="Intro: Setup of V8 &amp; Chrome"></a>Intro: Setup of V8 &amp; Chrome</h2>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2018/07/01/V8-Environmental-Configuration/#more">Read More</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                        <figure class="image is-128x128 has-mb-6">
                            <img class="is-rounded" src="/images/111.png" alt="P1umer">
                        </figure>
                    
                    
                    <p class="is-size-4 is-block">
                        P1umer
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Security Researcher
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>ADLab</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Posts
                    </p>
                    <p class="title has-text-weight-normal">
                        10
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categories
                    </p>
                    <p class="title has-text-weight-normal">
                        6
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Tags
                    </p>
                    <p class="title has-text-weight-normal">
                        7
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://www.zhihu.com/people/cz11-96/activities" target="_blank">
                Follow</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" title="zhihu" href="https://www.zhihu.com/people/cz11-96/activities">
                
                <i class="fab fa-zhihu"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        

<div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Links
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://q1iq.github.io/" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Q1iq</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">q1iq.github.io</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://dwfault-blog.imwork.net:30916/" target="_blank">
                    <span class="level-left">
                        <span class="level-item">dwfault</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">dwfault-blog.imwork.net</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://p4nda.top/" target="_blank">
                    <span class="level-left">
                        <span class="level-item">p4nda</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">p4nda.top</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://eternalsakura13.com/" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Sakura</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">eternalsakura13.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://misty.moe/" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Misty</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">misty.moe</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://t3ls.club" target="_blank">
                    <span class="level-left">
                        <span class="level-item">T3ls</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">t3ls.club</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://litch1.clu" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Litch1</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">litch1.clu</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>


    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categories
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/Browser-Explore/">
            <span class="level-start">
                <span class="level-item">Browser Explore</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">7</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/Browser-Explore/Basic/">
            <span class="level-start">
                <span class="level-item">Basic</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Browser-Explore/Exploit/">
            <span class="level-start">
                <span class="level-item">Exploit</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Browser-Explore/optimize/">
            <span class="level-start">
                <span class="level-item">optimize</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Linux-Kernel/">
            <span class="level-start">
                <span class="level-item">Linux Kernel</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/fuzz/">
            <span class="level-start">
                <span class="level-item">fuzz</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Tag Cloud
        </h3>
        <a href="/tags/Basic/" style="font-size: 15px;">Basic</a> <a href="/tags/Browser-Explore/" style="font-size: 20px;">Browser Explore</a> <a href="/tags/Exploit/" style="font-size: 12.5px;">Exploit</a> <a href="/tags/Fuzz/" style="font-size: 12.5px;">Fuzz</a> <a href="/tags/Kernel/" style="font-size: 10px;">Kernel</a> <a href="/tags/V8/" style="font-size: 17.5px;">V8</a> <a href="/tags/optimize/" style="font-size: 12.5px;">optimize</a>
    </div>
</div>

    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2019/08/05/How2Exploit-The-V8-Typer-Bug/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="How2Exploit The V8 Typer Bug">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-08-05T05:54:44.000Z">2019-08-05</time></div>
                    <a href="/2019/08/05/How2Exploit-The-V8-Typer-Bug/" class="has-link-black-ter is-size-6">How2Exploit The V8 Typer Bug</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Browser-Explore/">Browser Explore</a> / <a class="has-link-grey -link" href="/categories/Browser-Explore/Exploit/">Exploit</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/07/04/V8-Optimize-Reduce-Node-Inline/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/SalcombeDevon_ZH-CN5806331292_1920x1080.jpg" alt="V8 Optimize: Reduce Node &amp;&amp; Inline">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-07-04T12:47:23.000Z">2019-07-04</time></div>
                    <a href="/2019/07/04/V8-Optimize-Reduce-Node-Inline/" class="has-link-black-ter is-size-6">V8 Optimize: Reduce Node &amp;&amp; Inline</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Browser-Explore/">Browser Explore</a> / <a class="has-link-grey -link" href="/categories/Browser-Explore/optimize/">optimize</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/07/03/V8-Optimize-FrameState/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/HKreuni_ZH-CN5683726370_1920x1080.jpg" alt="V8 Optimize: FrameState">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-07-02T19:48:19.000Z">2019-07-03</time></div>
                    <a href="/2019/07/03/V8-Optimize-FrameState/" class="has-link-black-ter is-size-6">V8 Optimize: FrameState</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Browser-Explore/">Browser Explore</a> / <a class="has-link-grey -link" href="/categories/Browser-Explore/optimize/">optimize</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/05/30/Linux Kernel 初探/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/PeruvianRainforest_ZH-CN4066508593_1920x1080.jpg" alt="Linux Kernel 初探（一）BabyKernel">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-05-30T14:04:29.000Z">2019-05-30</time></div>
                    <a href="/2019/05/30/Linux Kernel 初探/" class="has-link-black-ter is-size-6">Linux Kernel 初探（一）BabyKernel</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Linux-Kernel/">Linux Kernel</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/05/06/Star-CTF-OOB-writeup/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/TreeFrog_ZH-CN9016355758_1920x1080.jpg" alt="StarCTF OOB writeup">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-05-06T14:04:29.000Z">2019-05-06</time></div>
                    <a href="/2019/05/06/Star-CTF-OOB-writeup/" class="has-link-black-ter is-size-6">StarCTF OOB writeup</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Browser-Explore/">Browser Explore</a> / <a class="has-link-grey -link" href="/categories/Browser-Explore/Exploit/">Exploit</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">August 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">July 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/05/">
                <span class="level-start">
                    <span class="level-item">May 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/03/">
                <span class="level-start">
                    <span class="level-item">March 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/02/">
                <span class="level-start">
                    <span class="level-item">February 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/09/">
                <span class="level-start">
                    <span class="level-item">September 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/07/">
                <span class="level-start">
                    <span class="level-item">July 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Basic/">
                        <span class="tag">Basic</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Browser-Explore/">
                        <span class="tag">Browser Explore</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Exploit/">
                        <span class="tag">Exploit</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Fuzz/">
                        <span class="tag">Fuzz</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Kernel/">
                        <span class="tag">Kernel</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/V8/">
                        <span class="tag">V8</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/optimize/">
                        <span class="tag">optimize</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2019/08/05/How2Exploit-The-V8-Typer-Bug/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="How2Exploit The V8 Typer Bug">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-08-05T05:54:44.000Z">2019-08-05</time></div>
                    <a href="/2019/08/05/How2Exploit-The-V8-Typer-Bug/" class="has-link-black-ter is-size-6">How2Exploit The V8 Typer Bug</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Browser-Explore/">Browser Explore</a> / <a class="has-link-grey -link" href="/categories/Browser-Explore/Exploit/">Exploit</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/07/04/V8-Optimize-Reduce-Node-Inline/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/SalcombeDevon_ZH-CN5806331292_1920x1080.jpg" alt="V8 Optimize: Reduce Node &amp;&amp; Inline">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-07-04T12:47:23.000Z">2019-07-04</time></div>
                    <a href="/2019/07/04/V8-Optimize-Reduce-Node-Inline/" class="has-link-black-ter is-size-6">V8 Optimize: Reduce Node &amp;&amp; Inline</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Browser-Explore/">Browser Explore</a> / <a class="has-link-grey -link" href="/categories/Browser-Explore/optimize/">optimize</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/07/03/V8-Optimize-FrameState/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/HKreuni_ZH-CN5683726370_1920x1080.jpg" alt="V8 Optimize: FrameState">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-07-02T19:48:19.000Z">2019-07-03</time></div>
                    <a href="/2019/07/03/V8-Optimize-FrameState/" class="has-link-black-ter is-size-6">V8 Optimize: FrameState</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Browser-Explore/">Browser Explore</a> / <a class="has-link-grey -link" href="/categories/Browser-Explore/optimize/">optimize</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/05/30/Linux Kernel 初探/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/PeruvianRainforest_ZH-CN4066508593_1920x1080.jpg" alt="Linux Kernel 初探（一）BabyKernel">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-05-30T14:04:29.000Z">2019-05-30</time></div>
                    <a href="/2019/05/30/Linux Kernel 初探/" class="has-link-black-ter is-size-6">Linux Kernel 初探（一）BabyKernel</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Linux-Kernel/">Linux Kernel</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/05/06/Star-CTF-OOB-writeup/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://p1umer-1256667851.cos.ap-beijing.myqcloud.com/img/TreeFrog_ZH-CN9016355758_1920x1080.jpg" alt="StarCTF OOB writeup">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-05-06T14:04:29.000Z">2019-05-06</time></div>
                    <a href="/2019/05/06/Star-CTF-OOB-writeup/" class="has-link-black-ter is-size-6">StarCTF OOB writeup</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Browser-Explore/">Browser Explore</a> / <a class="has-link-grey -link" href="/categories/Browser-Explore/Exploit/">Exploit</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">August 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">July 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/05/">
                <span class="level-start">
                    <span class="level-item">May 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/03/">
                <span class="level-start">
                    <span class="level-item">March 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/02/">
                <span class="level-start">
                    <span class="level-item">February 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/09/">
                <span class="level-start">
                    <span class="level-item">September 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/07/">
                <span class="level-start">
                    <span class="level-item">July 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Basic/">
                        <span class="tag">Basic</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Browser-Explore/">
                        <span class="tag">Browser Explore</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Exploit/">
                        <span class="tag">Exploit</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Fuzz/">
                        <span class="tag">Fuzz</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Kernel/">
                        <span class="tag">Kernel</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/V8/">
                        <span class="tag">V8</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/optimize/">
                        <span class="tag">optimize</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/111.png" alt="P1umerのblog" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 P1umer sauce&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>